(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{180:function(e,t,a){},188:function(e,t,a){},326:function(e,t,a){},348:function(e,t,a){e.exports=a(754)},353:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},392:function(e,t){},401:function(e,t){},419:function(e,t){},421:function(e,t){},442:function(e,t){},489:function(e,t){},491:function(e,t){},500:function(e,t){},502:function(e,t){},527:function(e,t){},529:function(e,t){},530:function(e,t){},536:function(e,t){},538:function(e,t){},556:function(e,t){},559:function(e,t){},574:function(e,t){},577:function(e,t){},582:function(e,t){},603:function(e,t){},605:function(e,t){},637:function(e,t){},639:function(e,t){},645:function(e,t){},730:function(e,t,a){},753:function(e,t,a){},754:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=a(789),l=a(2),i=function(){return fetch("/user/info").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))},u=function(){return fetch("/user/posts").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))},m=function(e){return fetch("/user/query/users",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},d=function(e){return fetch("/user/"+e).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))},f=function(e){return fetch("/user/follow",{method:"post",body:JSON.stringify({username:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},g=function(e){return fetch("/user/unfollow",{method:"post",body:JSON.stringify({username:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},p=function(){return fetch("/user/feed").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))},h=function(e){return fetch("/user/update-balance",{method:"post",body:JSON.stringify({funds:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},b=function(e){return fetch("/user/update-NumTx",{method:"post",body:JSON.stringify({numTx:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},E=function(e){return fetch("/user/infoByID",{method:"post",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},v=function(e){return fetch("/media/comments",{method:"post",body:JSON.stringify({photoID:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))},j=function(e,t){return fetch("/media/new-comment",{method:"post",body:JSON.stringify({comment:e,photoID:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))},O=function(e){return fetch("/user/login",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{username:""}}}))},y=function(e){return fetch("/user/register",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},N=function(){return fetch("/user/logout").then((function(e){return e.json()})).then((function(e){return e}))},S=function(){return fetch("/user/authenticated").then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{isAuthenticated:!1,user:{username:""}}}))},w=Object(n.createContext)(),C=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),m=u[0],d=u[1],f=Object(n.useState)(!1),g=Object(l.a)(f,2),p=g[0],h=g[1];return Object(n.useEffect)((function(){S().then((function(e){s(e.user),d(e.isAuthenticated),h(!0)}))}),[]),r.a.createElement("div",null,p?r.a.createElement(w.Provider,{value:{user:o,setUser:s,isAuthenticated:m,setIsAuthenticated:d}},t):r.a.createElement("h1",null," "))},k=function(e,t,a){return fetch("/user/sendTransaction",{method:"post",body:JSON.stringify({funds:e,to:t,from:a,type:"tip"}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},I=function(e,t,a,n,r){return fetch("/user/sendTransaction",{method:"post",body:JSON.stringify({funds:e,to:t,from:a,type:"unlock",photoId:n,userId:r}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))};a(353);function x(e){var t=Object(n.useContext)(w),a=Object(n.useState)(600),c=Object(l.a)(a,2),o=(c[0],c[1]),s=Object(n.useState)(!1),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){var t=new Image;t.onload=function(){o(this.height/this.width*540)},t.src=e.imgUrl};function g(){m?i().then((function(a){a.balance>=e.price&&I(e.price,e.username,t.user.username,e.id,a.id).then((function(t){console.log(t),e.updatePaywall()}))})):d(!0)}return r.a.createElement("div",{className:"lockedMediaBody",style:{height:"calc(100vh - 200px)"}},r.a.createElement("div",{className:"infoArea"},r.a.createElement("p",{className:"infoText"},"This image costs ",e.price," ETH to unlock."),m?r.a.createElement("p",{className:""},"Are you sure? ",r.a.createElement("button",{className:"button3",onClick:function(){return g()}},"Yes")," ",r.a.createElement("button",{className:"button3",onClick:function(){return d(!1)}},"No")):r.a.createElement("button",{className:"button3",onClick:function(){return g()}},"Unlock")))}var B=a(40),U=Object(B.a)(),T=a(47),P=a.n(T),A=a(779),z=(a(180),function(){return fetch("https://rest.coinapi.io/v1/exchangerate/ETH/USD",{method:"GET",headers:{"X-CoinAPI-Key":"7658AFD6-48B4-40C9-9494-0105626B3BF8"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))});function D(e){var t=Object(n.useState)(e.visible),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(),u=Object(l.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),p=g[0],h=g[1],b=Object(n.useState)(),E=Object(l.a)(b,2),v=E[0],j=E[1],O=Object(n.useState)(0),y=Object(l.a)(O,2),N=y[0],S=y[1],C=Object(n.useContext)(w),I=(Object(n.useRef)(null),{rainbowStyle:{width:N,height:5,position:"absolute",transition:"width 0.5s",borderTopLeftRadius:5,borderTopRightRadius:5}}),x=function(){o(!1)},B=function(){d(230.17)},U=function(){S(400)};return r.a.createElement("section",{className:"tipModalButton"},r.a.createElement("img",{className:"tipIconButton",src:"https://image.flaticon.com/icons/svg/3037/3037255.svg",alt:"ethereum icon",onClick:function(){return o(!0),void B()}}),r.a.createElement(P.a,{visible:c,width:"400",height:"250",effect:"fadeInDown",onClickAway:function(){return x()}},r.a.createElement("img",{style:I.rainbowStyle,src:"https://img.rawpixel.com/s3fs-private/rawpixel_images/website_content/rm218batch10-mynt-11.jpg?bg=transparent&con=3&cs=srgb&dpr=1&fm=jpg&ixlib=php-3.1.0&q=80&usm=15&vib=3&w=1300&s=f701199de450fc12516032a94444742e",alt:"rainbow animation"}),r.a.createElement("div",{className:"tipArea"},r.a.createElement("div",{className:"top"},r.a.createElement("h1",{className:"tipTitle"},"Ethereum"),r.a.createElement("img",{className:"x",src:"https://image.flaticon.com/icons/svg/104/104812.svg",alt:"x in circle icon",onClick:function(){return x()}})),r.a.createElement("div",{className:"tipButtons"},r.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return t=(.5/m).toFixed(5),U(),void i().then((function(a){var n=a.message,r=a.balance;n?"Unauthorized"===n.msgBody&&(C.setUser({username:""}),C.setIsAuthenticated(!1)):t<r?k(t,e.username,a.username).then((function(e){h("Succesfully sent Ether"),j(!1),setTimeout((function(){h(""),x()}),1500)})):(h("Insufficent Funds"),j(!0),setTimeout((function(){h(""),j(!1)}),1500))}));var t}},(.5/m).toFixed(5)," ETH"),r.a.createElement("div",{className:"estimateTip"},"about 0.50 USD")),p?v?r.a.createElement("div",{className:"errorMsg"},"Insufficent Funds"):r.a.createElement("div",{className:"successMsg"},"Succesfully sent Ether"):null)))}a(362);function F(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(),u=Object(l.a)(s,2),m=(u[0],u[1],Object(n.useState)()),d=Object(l.a)(m,2),f=d[0],g=d[1],p=Object(n.useState)(0),h=Object(l.a)(p,2),b=h[0],E=h[1],v=Object(n.useState)(""),j=Object(l.a)(v,2),O=j[0],y=j[1],N=Object(n.useContext)(w),S=(Object(n.useRef)(null),{rainbowStyle:{width:b,height:5,position:"absolute",transition:"width 0.2s",borderTopLeftRadius:5,borderTopRightRadius:5},success:{display:"flex",justifyContent:"center",alignItems:"center",zIndex:11,width:"100vw",height:"100vw",height:250,maxWidth:400,width:"95%",backgroundColor:"white"}});function C(){o(!1),E(0)}function I(){O>0&&i().then((function(t){var a=t.message,n=t.balance;a?"Unauthorized"===a.msgBody&&(N.setUser({username:""}),N.setIsAuthenticated(!1)):O<n?k(O,e.username,t.username).then((function(e){.95*window.innerWidth>=400?E(400):E(.95*window.innerWidth),y(""),setTimeout((function(){C()}),1500)})):(g(!0),setTimeout((function(){g(!1)}),1500))}))}return Object(n.useEffect)((function(){})),c?r.a.createElement("div",null,r.a.createElement("img",{className:"tipIconButton",src:"https://image.flaticon.com/icons/svg/3037/3037255.svg",alt:"ethereum icon",onClick:function(){return o(!0)}}),r.a.createElement("div",{className:"modalOpen"},r.a.createElement("div",{id:"tipModalBody"},r.a.createElement("img",{style:S.rainbowStyle,src:"https://img.rawpixel.com/s3fs-private/rawpixel_images/website_content/rm218batch10-mynt-11.jpg?bg=transparent&con=3&cs=srgb&dpr=1&fm=jpg&ixlib=php-3.1.0&q=80&usm=15&vib=3&w=1300&s=f701199de450fc12516032a94444742e",alt:"rainbow animation"}),r.a.createElement("div",{className:"tipArea"},r.a.createElement("div",{className:"top"},r.a.createElement("h2",{className:"tipTitle"},"Tip ",e.username),r.a.createElement("img",{className:"x",src:"https://image.flaticon.com/icons/svg/104/104812.svg",alt:"x in circle icon",onClick:function(){return C()}})),r.a.createElement("input",{className:"tipInput",placeholder:"Enter Amount (ETH)",onChange:function(e){isNaN(e.target.value)||y(e.target.value)},value:O}),r.a.createElement("div",{className:"sendTipButton"},O?r.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return I()}},"Send "+O+" ETH"):r.a.createElement(A.a,{variant:"contained",color:"primary",disabled:!0},"Send Tip")),f?r.a.createElement("div",{className:"errorMsg"},"Insufficent Funds"):null)))):r.a.createElement("img",{className:"tipIconButton",src:"https://image.flaticon.com/icons/svg/3037/3037255.svg",alt:"ethereum icon",onClick:function(){return o(!0)}})}a(363);var L=a(328);function M(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){}),[]);var s={post:{width:"95vw",maxWidth:540,display:"flex",justifyContent:"center",marginTop:5},input:{marginRight:10,width:"70vw",maxWidth:450}};return r.a.createElement("div",{style:s.post},r.a.createElement("input",{style:s.input,onChange:function(e){e.target.value.length<120&&o(e.target.value)},placeholder:"say something"}),r.a.createElement("button",{onClick:function(){c&&c.length<120&&j(c,e.src).then((function(t){e.refresh()}))}},"POST"))}a(364);function W(e){var t=Object(n.useState)("unknown"),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){E(e.user).then((function(e){o(e.username)}))}),[]),r.a.createElement("div",{className:"comment"},c+"   "+e.comment)}function R(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(e.src),i=Object(l.a)(s,2),u=i[0],m=i[1];Object(n.useEffect)((function(){f(),m(e.src)}),[]);var d={comments:{backgroundColor:"white",width:"95vw",maxWidth:540,height:300,overflowY:"scroll"}};function f(){v(e.src).then((function(e){o(e.comments.reverse())}))}return r.a.createElement(L.Spring,{from:{opacity:-5},to:{opacity:1}},(function(e){return r.a.createElement("div",{style:e},r.a.createElement("div",null,r.a.createElement("div",{className:"comments",style:d.comments},c.map((function(e){return r.a.createElement(W,{comment:e.body,user:e.user,key:e.date})}))),r.a.createElement(M,{src:u,refresh:function(){return f()}})))}))}a(372);var J=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("https://northcliftonestates.ca/wp-content/uploads/2019/06/placeholder-images-image_large.png"),u=Object(l.a)(s,2),m=u[0],f=u[1],g=Object(n.useState)("https://image.flaticon.com/icons/svg/876/876221.svg"),p=Object(l.a)(g,2),h=p[0],b=p[1],E=Object(n.useState)(!1),v=Object(l.a)(E,2),j=v[0],O=v[1],y=Object(n.useState)("73vh"),N=Object(l.a)(y,2),S=N[0],C=N[1],k=Object(n.useState)(60),I=Object(l.a)(k,2),B=I[0],T=I[1],P=Object(n.useState)(!1),A=Object(l.a)(P,2),z=A[0],L=A[1],M=Object(n.useState)(!1),W=Object(l.a)(M,2),J=W[0],H=W[1],_=Object(n.useState)(!1),Y=Object(l.a)(_,2),q=Y[0],X=Y[1],G=Object(n.useState)("card"),V=Object(l.a)(G,2),K=V[0],Q=V[1],Z=(Object(n.useRef)(null),Object(n.useContext)(w));document.body.style.overflow="scroll";var $={profileImgSmall:{borderColor:c},imageArea:{maxWidth:540},containerInfo:{height:B,display:"flex",alignItems:"start",transition:"all 0.3s ease-in-out",width:"95vw",maxWidth:540}};Object(n.useEffect)((function(){ae(),te(),ee()}),[]);var ee=function(){var t=new Image;t.onload=function(){C(this.height/this.width*540)},t.src=e.imgUrl},te=function(){e.price&&O(!0),Z.user.username===e.username?O(!1):i().then((function(t){e.privileged.includes(t.id)&&O(!1)}))},ae=function(){d(e.username).then((function(e){e.message||(f(e.profileImgSrc),o(e.color))}))};return j?r.a.createElement("div",{className:"card panel"},r.a.createElement("div",{className:"imageArea",style:$.imageArea},r.a.createElement(x,{price:e.price,updatePaywall:function(){return O(!1)},id:e.id,username:e.username,getBalance:e.getBalance,imgUrl:e.imgUrl,height:S})),r.a.createElement("div",{className:"containerInfo",style:$.containerInfo},r.a.createElement("div",{className:"basicInfo"},r.a.createElement("div",{className:"outerProfileImageUsername clickable",onClick:function(){return Z.user.username===e.username?U.push("/profile"):U.push("/user/"+e.username)}},r.a.createElement("div",{className:"profileImageUsername"},r.a.createElement("img",{className:"profileImgSmall",style:$.profileImgSmall,src:m,alt:"Avatar"}),r.a.createElement("h4",{className:"userLink"},e.username)))))):"video"===e.type?r.a.createElement("div",{className:"card panel"},r.a.createElement("div",null,r.a.createElement("video",{style:$.imageArea,id:"my-player",class:"video-js vjs-theme-city",controls:!0,preload:"auto",poster:"//vjs.zencdn.net/v/oceans.png","data-setup":"{}"},r.a.createElement("source",{src:"//vjs.zencdn.net/v/oceans.mp4",type:"video/mp4"}),r.a.createElement("source",{src:"//vjs.zencdn.net/v/oceans.webm",type:"video/webm"}),r.a.createElement("source",{src:"//vjs.zencdn.net/v/oceans.ogv",type:"video/ogg"}),r.a.createElement("p",{class:"vjs-no-js"},"To view this video please enable JavaScript, and consider upgrading to a web browser that",r.a.createElement("a",{href:"https://videojs.com/html5-video-support/",target:"_blank"},"supports HTML5 video")))),r.a.createElement("div",{className:"containerInfo"},r.a.createElement("div",{className:"userInfoMedia"},r.a.createElement("div",{className:"innerUserInfoMedia"},r.a.createElement("img",{className:"profileImgSmall",style:$.profileImgSmall,src:m,alt:"Avatar"}),r.a.createElement("a",{className:"userLink",onClick:function(){return Z.user.username===e.username?U.push("/profile"):U.push("/user/"+e.username)}},r.a.createElement("h4",null,e.username)))),r.a.createElement("div",{className:"containerTipArea"},Z.user.username===e.username?null:r.a.createElement(D,{username:e.username,getBalance:e.getBalance})))):r.a.createElement("div",{className:K},r.a.createElement("div",{className:"imageArea",style:$.imageArea},q?r.a.createElement("div",{className:"errorScreen",alt:"Image not loading"},"Image not loading..."):r.a.createElement("img",{className:"feedImg",src:e.imgUrl,alt:"post",onClick:function(){H(!J)},onError:function(){return X(!0)}})),r.a.createElement("div",{className:"containerInfo",style:$.containerInfo},r.a.createElement("div",{className:"basicInfo"},r.a.createElement("div",{className:"outerProfileImageUsername clickable",onClick:function(){return Z.user.username===e.username?U.push("/profile"):U.push("/user/"+e.username)}},r.a.createElement("div",{className:"profileImageUsername"},r.a.createElement("img",{className:"profileImgSmall",style:$.profileImgSmall,src:m,alt:"Avatar"}),r.a.createElement("h4",{className:"userLink"},e.username))),r.a.createElement("div",{className:"outerButtons"},r.a.createElement("div",{className:"buttons"},r.a.createElement("img",{className:"commentIcon clickable",src:h,alt:"comment icon",onClick:function(){z?(setTimeout((function(){Q("card")}),220),T(60),b("https://image.flaticon.com/icons/svg/876/876221.svg"),L(!z)):(Q("cardSnapEnd"),T(400),b("https://image.flaticon.com/icons/svg/876/876170.svg"),L(!z))}}),r.a.createElement("div",{className:"tipIcon clickable"},Z.user.username===e.username?null:r.a.createElement(F,{username:e.username,getBalance:e.getBalance,ethPrice:e.ethPrice})))),z?r.a.createElement(R,{src:e.imgUrl}):null)))};a(373);function H(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useContext)(w);return Object(n.useEffect)((function(){p().then((function(e){e.message?"Unauthorized"===e.message.msgBody&&(s.setUser({username:""}),s.setIsAuthenticated(!1)):(console.log(e),e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),o(e))}))}),[]),r.a.createElement("div",null,c.map((function(t){if(!t.deleted)return r.a.createElement(J,{className:"mediaCard",getBalance:e.getBalance,key:t._id,id:t._id,imgUrl:t.imgSrc,price:t.price,privileged:t.privileged,username:t.user,ethPrice:e.ethPrice})})),r.a.createElement("div",{className:"extraBlock"}))}a(374);function _(e){var t=Object(n.useState)("https://image.flaticon.com/icons/svg/846/846204.svg"),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("https://image.flaticon.com/icons/svg/2948/2948094.svg "),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)("https://image.flaticon.com/icons/svg/860/860807.svg"),f=Object(l.a)(d,2),g=f[0],p=f[1],h=Object(n.useState)("rgba(22,73,222,1)"),b=Object(l.a)(h,2),E=b[0],v=b[1],j=Object(n.useState)("rgba(0,212,255,1)"),O=Object(l.a)(j,2),y=O[0],N=O[1],S={nav:{background:"linear-gradient(90deg, ".concat(E," -600px, ").concat(y," 100%)")}};return Object(n.useEffect)((function(){switch(e.page){case"wallet":o("https://mymo-secure-content.s3.us-east-2.amazonaws.com/ICON2.png");break;case"search":m("https://mymo-secure-content.s3.us-east-2.amazonaws.com/ICON4.png");break;case"home":p("https://mymo-secure-content.s3.us-east-2.amazonaws.com/ICON3.png")}switch(e.color){case"purple":v("rgba(156,26,190,1)"),N("rgba(49,187,242,1)");break;case"orange":v("rgba(234,78,87,1)"),N("rgba(252,198,92,1)");break;case"green":v("rgba(83,213,60,1)"),N("rgba(41,195,242,1)")}}),[]),r.a.createElement("div",{className:"navBar",style:S.nav},r.a.createElement("div",{className:"navArea"},r.a.createElement("img",{className:"homeIcon navButton",src:g,alt:"home icon",onClick:function(){return U.push("/home")}}),r.a.createElement("img",{className:"searchIcon navButton",src:u,alt:"search icon",onClick:function(){return U.push("/search")}}),r.a.createElement("img",{className:"plusIcon navButton",src:"https://image.flaticon.com/icons/svg/1828/1828926.svg",alt:"new creation",onClick:function(){return console.log("fuck a nigger")}}),r.a.createElement("img",{className:"walletIcon navButton",src:c,alt:"wallet icon",onClick:function(){return U.push("/wallet")}}),r.a.createElement("img",{className:"profilePicNav navButton",src:"https://cdn.dribbble.com/users/612987/screenshots/5002917/shark.jpg",alt:"profile avatar",onClick:function(){return U.push("/profile")}})))}a(375);function Y(e){var t=Object(n.useState)("header"),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("rgba(22,73,222,1)"),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)("rgba(0,212,255,1)"),f=Object(l.a)(d,2),g=f[0],p=f[1],h=Object(n.useState)("https://mymo-secure-content.s3.us-east-2.amazonaws.com/send.png"),b=Object(l.a)(h,2),E=b[0],v=b[1],j={nav:{background:"linear-gradient(90deg, ".concat(u," -600px, ").concat(g," 100%)")},logo:{color:"white"}};return Object(n.useEffect)((function(){switch(console.log(e),e.color){case"purple":m("rgba(156,26,190,1)"),p("rgba(49,187,242,1)");break;case"orange":m("rgba(234,78,87,1)"),p("rgba(252,198,92,1)");break;case"green":m("rgba(83,213,60,1)"),p("rgba(41,195,242,1)")}"home"===e.page?(v("https://image.flaticon.com/icons/svg/2983/2983788.svg"),document.getElementById("mediaPanel").addEventListener("scroll",(function(e){var t=e.target.scrollTop<7?"header":"header shadowed";o(t)}))):"send"===e.page?(o("header shadowed"),setTimeout((function(){o("header"),v("https://mymo-secure-content.s3.us-east-2.amazonaws.com/send.png")}),250)):(v("https://image.flaticon.com/icons/svg/2983/2983788.svg"),document.addEventListener("scroll",(function(){var e=window.scrollY<7?"header":"header shadowed";o(e)})))}),[]),r.a.createElement("div",{className:c,style:j.nav},r.a.createElement("div",{className:"headerArea"},r.a.createElement("img",{className:"menuIcon button",src:"https://image.flaticon.com/icons/svg/847/847454.svg",alt:"Menu icon"}),r.a.createElement("h3",{className:"logo",style:j.logo},r.a.createElement("a",{href:"/home"},"weij.io")),r.a.createElement("img",{className:"sendIcon button",src:E,alt:"Send icon",onClick:function(){"send"==="send"&&("send"===e.page?(localStorage.getItem("prevPage")||localStorage.setItem("prevPage","/home"),e.leavePage(),o("header shadowed"),setTimeout((function(){U.push(localStorage.getItem("prevPage"))}),400)):U.push("/send"))}})))}function q(e){var t=Object(n.useState)("rgba(22,73,222,1)"),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("rgba(0,212,255,1)"),i=Object(l.a)(s,2),u=i[0],m=i[1];Object(n.useEffect)((function(){switch(e.color){case"purple":o("rgba(156,26,190,1)"),m("rgba(49,187,242,1)");break;case"orange":o("rgba(234,78,87,1)"),m("rgba(252,198,92,1)");break;case"green":o("rgba(83,213,60,1)"),m("rgba(41,195,242,1)")}}),[]);var d={bgStyle:{position:"fixed",zIndex:-2,background:"linear-gradient(90deg, ".concat(c," -600px, ").concat(u," 100%)"),height:"100vh",width:"100vw",transition:"opacity 1s ease"}};return r.a.createElement("div",{style:d.bgStyle})}a(376);function X(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){localStorage.setItem("prevPage","/home"),z().then((function(e){c(e.rate)}))}),[]),r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(Y,{page:"home"}),r.a.createElement(_,{page:"home"}),r.a.createElement("div",{className:"feedPage"},r.a.createElement("div",{className:"mediaPanel",id:"mediaPanel"},r.a.createElement(H,{ethPrice:a}))))}var G=a(51),V=a(792),K=a(785),Q=a(790),Z=a(782),$=a(787),ee=a(791),te=a(124),ae=a.n(te),ne=a(756),re=a(783),ce=a(784);function oe(){return r.a.createElement(ne.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Z.a,{color:"inherit",href:" "},"MyMo")," ",(new Date).getFullYear(),".")}var se=Object(re.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),le=function(e){var t=se(),a=Object(n.useState)({username:"",password:""}),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],d=u[1],f=Object(n.useContext)(w),g=function(e){s(Object(G.a)(Object(G.a)({},o),{},{[e.target.name]:e.target.value}))};return r.a.createElement(ce.a,{component:"main",maxWidth:"xs"},r.a.createElement(K.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(V.a,{className:t.avatar},r.a.createElement(ae.a,null)),r.a.createElement(ne.a,{component:"h2",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),O(o).then((function(t){var a=t.isAuthenticated,n=t.user;t.message;a?(f.setUser(n),f.setIsAuthenticated(a),e.history.push("/home")):d("Invalid Username or Password")}))},className:t.form,noValidate:!0},r.a.createElement(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:g}),r.a.createElement(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:g}),m?r.a.createElement("div",{className:"alert alert-danger",role:"alert"}," ",m," "):null,r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement($.a,{container:!0},r.a.createElement($.a,{item:!0},r.a.createElement(Z.a,{href:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(ee.a,{mt:5},r.a.createElement(oe,null)))},ie=(a(188),function(e){return fetch("/user/post-photo",{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))}),ue=function(e){return fetch("/api/image-upload",{method:"post",body:e}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{response:e,msgError:!0}}))};a(378);function me(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),g=f[0],p=f[1],h=Object(n.useContext)(w),b=Object(n.useState)(!0),E=Object(l.a)(b,2),v=E[0],j=E[1],O=Object(n.useState)(null),y=Object(l.a)(O,2),N=y[0],S=y[1],C=Object(n.useState)(null),k=Object(l.a)(C,2),I=k[0],x=k[1],B=function(){p(!1),e.refresh(),U()},U=function(){o(""),m("")};return r.a.createElement("section",null,r.a.createElement("button",{onClick:function(){p(!0)}}," Post Photo "),r.a.createElement(P.a,{visible:g,width:"520",height:"500",effect:"fadeInDown"},r.a.createElement("div",{className:"postModal"},r.a.createElement("div",{className:"inputArea"},r.a.createElement("h1",null,"Post an Image"),r.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length>0&&(x(e.target.files[0]),o(URL.createObjectURL(e.target.files[0])),j(!1))}}),r.a.createElement("br",null),r.a.createElement("h4",{className:"label"},"Price (optional): "),r.a.createElement("input",{className:"priceInput",name:"price",id:"price",onChange:function(e){"imgSrc"===e.target.name?(o(e.target.value),j(!1),S("")):"price"!==e.target.name||isNaN(e.target.value)||m(e.target.value)},value:u}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){if(t.preventDefault(),v)S("This is not a valid photo");else{var a=new FormData;a.append("image",I),ue(a).then((function(t){ie({imgSrc:t.imageUrl,user:e.username,userImg:e.userImg,color:e.color,price:u}).then((function(e){"Unauthorized"===e.message.msgBody?(h.setUser({username:""}),h.setIsAuthenticated(!1)):(console.log(e),B())}))}))}},type:"submit",className:"submitBtn"},"Post Photo"),r.a.createElement("button",{onClick:function(){return B()}},"Cancel"),N?r.a.createElement("div",{className:"alert"}," ",N," "):null),r.a.createElement("br",null),r.a.createElement("div",{className:"imgArea"},r.a.createElement("img",{className:"sampleImg",style:{borderColor:"#2F8FED"},src:v?"https://northcliftonestates.ca/wp-content/uploads/2019/06/placeholder-images-image_large.png":c,onError:function(){j(!0)},alt:"sample post"})))))}var de=function(e){return fetch("/user/update-bio",{method:"post",body:JSON.stringify({bio:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},fe=function(e){return fetch("/user/update-profileImg",{method:"post",body:JSON.stringify({profileImg:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))},ge=function(e){return fetch("/user/update-color",{method:"post",body:JSON.stringify({color:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized"},msgError:!0}}))};a(379);function pe(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),p=g[0],h=g[1],b=Object(n.useState)(!0),E=Object(l.a)(b,2),v=E[0],j=E[1],O=Object(n.useState)(null),y=Object(l.a)(O,2),S=(y[0],y[1]),C=Object(n.useState)(),k=Object(l.a)(C,2),I=k[0],x=k[1],B=Object(n.useState)(!1),U=Object(l.a)(B,2),T=(U[0],U[1],Object(n.useContext)(w)),A=T.setIsAuthenticated,z=T.setUser,D=Object(n.useContext)(w),F=Object(n.useState)(!1),L=Object(l.a)(F,2),M=L[0],W=L[1],R=Object(n.useState)(!1),J=Object(l.a)(R,2),H=J[0],_=J[1],Y=Object(n.useState)(!1),q=Object(l.a)(Y,2),X=q[0],G=q[1],V=Object(n.useState)(!1),K=Object(l.a)(V,2),Q=K[0],Z=K[1],$=Object(n.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(l.a)(ne,2),ce=re[0],oe=re[1],se=Object(n.useState)(!1),le=Object(l.a)(se,2),ie=le[0],ue=le[1],me=Object(n.useState)(!1),pe=Object(l.a)(me,2),he=pe[0],be=pe[1];Object(n.useEffect)((function(){Ee()}),[]);var Ee=function(){i().then((function(e){if(!e.message){switch(d(e.bio),e.color){case"color-violet":W(!0);break;case"color-indigo":_(!0);break;case"color-blue":G(!0);break;case"color-green":Z(!0);break;case"color-yellow":ae(!0);break;case"color-orange":oe(!0);break;case"color-red":ue(!0);break;case"color-pink":be(!0)}h(e.color),x(e.profileImgSrc)}}))},ve=function(t){de(m).then((function(e){"Unauthorized"===e.message.msgBody&&(D.setUser({username:""}),D.setIsAuthenticated(!1))})),ge(p).then((function(e){"Unauthorized"===e.message.msgBody&&(D.setUser({username:""}),D.setIsAuthenticated(!1))})),v||fe(I).then((function(e){"Unauthorized"===e.message.msgBody&&(D.setUser({username:""}),D.setIsAuthenticated(!1))})),e.refresh(),o(!1)},je=function(e){switch(W(!1),_(!1),G(!1),Z(!1),ae(!1),oe(!1),ue(!1),be(!1),e.target.name){case"color-violet":W(!0);break;case"color-indigo":_(!0);break;case"color-blue":G(!0);break;case"color-green":Z(!0);break;case"color-yellow":ae(!0);break;case"color-orange":oe(!0);break;case"color-red":ue(!0);break;case"color-pink":be(!0)}h(e.target.name)};return r.a.createElement("section",null,r.a.createElement("button",{onClick:function(){o(!0)}}," Settings "),r.a.createElement(P.a,{visible:c,width:"540",height:"600",effect:"fadeInDown"},r.a.createElement("div",{className:"settingsArea"},r.a.createElement("div",{className:"settingsAreaLeft"},r.a.createElement("h1",null,"Settings"),r.a.createElement("form",{onSubmit:ve},r.a.createElement("h3",{className:"bioLabel"},"Bio"),r.a.createElement("textarea",{name:"message",rows:"5",cols:"60",onChange:function(e){d(e.target.value)},value:m})),r.a.createElement("h3",{className:"colorLabel"},"Color"),r.a.createElement("div",{className:"colorRow"},r.a.createElement("button",{className:"color-violet colorBtn ".concat(M?"selected":" "),name:"color-violet",onClick:je}),r.a.createElement("button",{className:"color-indigo colorBtn ".concat(H?"selected":" "),name:"color-indigo",onClick:je}),r.a.createElement("button",{className:"color-blue colorBtn ".concat(X?"selected":" "),name:"color-blue",onClick:je}),r.a.createElement("button",{className:"color-green colorBtn ".concat(Q?"selected":" "),name:"color-green",onClick:je}),r.a.createElement("button",{className:"color-yellow colorBtn ".concat(te?"selected":" "),name:"color-yellow",onClick:je}),r.a.createElement("button",{className:"color-orange colorBtn ".concat(ce?"selected":" "),name:"color-orange",onClick:je}),r.a.createElement("button",{className:"color-red colorBtn ".concat(ie?"selected":" "),name:"color-red",onClick:je}),r.a.createElement("button",{className:"color-pink colorBtn ".concat(he?"selected":" "),name:"color-pink",onClick:je}))),r.a.createElement("div",{className:"settingsImgArea"},r.a.createElement("img",{className:"profileImgPreview",src:I,onError:function(){return j(!0),void x("https://northcliftonestates.ca/wp-content/uploads/2019/06/placeholder-images-image_large.png")},alt:"Profile Pic Preview"}),r.a.createElement("br",null),r.a.createElement("input",{className:"settingsImgUrlInput",name:"imgSrc",id:"imgSrc",placeholder:"Image URL",onChange:function(e){"imgSrc"!==e.target.name||e.target.value?(x(e.target.value),j(!1),S("")):x("https://northcliftonestates.ca/wp-content/uploads/2019/06/placeholder-images-image_large.png")}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return ve()}},"Save Settings"),r.a.createElement("button",{onClick:function(){N().then((function(e){e.success&&(z(e.user),A(!1))}))}},"Logout")))))}function he(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("https://northcliftonestates.ca/wp-content/uploads/2019/06/placeholder-images-image_large.png"),m=Object(l.a)(s,2),d=m[0],f=m[1],g=Object(n.useState)(""),p=Object(l.a)(g,2),h=p[0],b=p[1],E=Object(n.useState)([]),v=Object(l.a)(E,2),j=v[0],O=v[1],y=Object(n.useState)(!1),N=Object(l.a)(y,2),S=N[0],C=N[1],k=Object(n.useState)(),I=Object(l.a)(k,2),x=I[0],B=I[1],U=Object(n.useState)("purple"),T=Object(l.a)(U,2),P=T[0],A=T[1],z=Object(n.useState)(),D=Object(l.a)(z,2),F=D[0],L=D[1],M=Object(n.useState)(!1),W=Object(l.a)(M,2),R=(W[0],W[1],Object(n.useContext)(w));Object(n.useEffect)((function(){localStorage.setItem("prevPage","/profile"),J(e.match.params.user),H()}),[S]);var J=function(){i().then((function(e){var t=e.message;t?"Unauthorized"===t.msgBody&&(R.setUser({username:""}),R.setIsAuthenticated(!1)):(o(e.username),f(e.profileImgSrc),b(e.bio),L(e.followers.length),B(e.following.length),A(e.color),console.log(e))}))},H=function(){u().then((function(e){console.log(e.posts);var t=e.message;t?"Unauthorized"===t.msgBody&&(R.setUser({username:""}),R.setIsAuthenticated(!1)):O(e.posts.reverse())}))};return r.a.createElement("div",null,r.a.createElement(Y,{color:P,page:"userProfile"}),r.a.createElement(_,{color:P,page:"userProfile"}),r.a.createElement(q,{color:P}),r.a.createElement("div",{className:"profilePageContainer"},r.a.createElement("div",{className:"profilePage"},r.a.createElement("div",{className:"userDiv"},r.a.createElement("img",{className:"profileImg",src:d,alt:"Profile Pic"}),r.a.createElement("div",{className:"userInfo"},r.a.createElement("h3",{className:"username"},c),r.a.createElement("div",{className:"bottomInfo"},r.a.createElement("h3",{className:"numPosts"},j.length," posts"),r.a.createElement("h3",{className:"numFollowers"},F," Followers"),r.a.createElement("h3",{className:"numFollowers"},"Following ",x),h?r.a.createElement("p",{className:"bio"},h):null,r.a.createElement(pe,{userImg:d,username:c,refresh:function(){return C(!S)}}),r.a.createElement(me,{userImg:d,username:c,refresh:function(){return C(!S)},color:P})))),r.a.createElement("div",{className:"userPosts"},j.map((function(e){return r.a.createElement("img",{className:"post",key:e._id,src:e.imgSrc,alt:"user post"})}))))))}function be(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("https://northcliftonestates.ca/wp-content/uploads/2019/06/placeholder-images-image_large.png"),u=Object(l.a)(s,2),m=u[0],p=u[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),E=b[0],v=b[1],j=Object(n.useState)([]),O=Object(l.a)(j,2),y=O[0],N=O[1],S=Object(n.useState)(),w=Object(l.a)(S,2),C=(w[0],w[1]),k=Object(n.useState)(),I=Object(l.a)(k,2),x=I[0],B=I[1],T=Object(n.useState)(!1),P=Object(l.a)(T,2),A=P[0],z=P[1];return Object(n.useEffect)((function(){e.match.params.user?(!function(e){d(e).then((function(e){console.log(e),e.error?U.push("/home"):(o(e.username),p(e.profileImg),N(e.posts.reverse()),v(e.bio),B(e.followers.length),C(e.following.length))})),i().then((function(t){t.following.map((function(t){t===e&&z(!0)}))}))}(e.match.params.user),localStorage.setItem("prevPage","/user/".concat(e.match.params.user))):U.push("/home")}),[A]),r.a.createElement("div",null,r.a.createElement(Y,{color:"purple",page:"profile"}),r.a.createElement(_,{color:"purple",page:"profile"}),r.a.createElement(q,{color:"purple"}),r.a.createElement("div",{className:"profilePageContainer"},r.a.createElement("div",{className:"profilePage"},r.a.createElement("div",{className:"userDiv"},r.a.createElement("img",{className:"profileImg",src:m,alt:"Profile Pic"}),r.a.createElement("div",{className:"userInfo"},r.a.createElement("h3",{className:"username"},c),r.a.createElement("div",{className:"bottomInfo"},r.a.createElement("h3",{className:"numPosts"},y.length," posts"),r.a.createElement("h3",{className:"numFollowers"},x," Followers"),E?r.a.createElement("p",{className:"bio"},E):null,A?r.a.createElement("button",{className:"followToggle",onClick:function(){A&&g(c).then((function(e){z(!1)}))}},"Unfollow"):r.a.createElement("button",{className:"followToggle",onClick:function(){A||f(c).then((function(e){z(!0)}))}},"Follow"),A?r.a.createElement("button",{className:"directSend",onClick:function(){return U.push("/send/to/".concat(c))}},r.a.createElement("img",{className:"directSendImage",src:"https://image.flaticon.com/icons/svg/2983/2983788.svg"})):null))),r.a.createElement("div",{className:"userPosts"},y.map((function(e){return r.a.createElement("img",{className:"post",key:e._id,src:e.imgSrc,alt:"user post"})}))))))}a(380);function Ee(){var e=Object(n.useState)({x:null,y:null}),t=Object(l.a)(e,2),a=t[0],c=t[1],o={background:{width:"100vw",height:"100vh",background:"white"},treasureHuntLogo:{background:"url(".concat("https://ak.picdn.net/shutterstock/videos/1026842039/thumb/9.jpg",")"),backgroundColor:"gray",backgroundPositionX:a.x,backgroundPositionY:a.y,fontFamily:"Fredoka One, cursive",position:"absolute",fontSize:80,bottom:35,left:60,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text",margin:0}};function s(e){c({x:e.clientX,y:e.clientY}),e.clientX>390&&e.clientX<=400&&e.clientY>40&&e.clientY<=50&&window.alert("You found 12 eth!")}return Object(n.useEffect)((function(){return window.addEventListener("mousemove",s),function(){return window.removeEventListener("mousemove",s)}}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"treasureHuntBackground"}),r.a.createElement("h1",{className:"treasureHuntLogo",style:o.treasureHuntLogo},"weij.io"))}var ve=function(e){var t="alert ";return e.message.msgError?t+="alert-danger":t+="alert-primary",t+" text-center"},je=function(e){return r.a.createElement("div",{style:{marginTop:"10px"},className:ve(e),role:"alert"},e.message.msgBody)};function Oe(){return r.a.createElement(ne.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Z.a,{color:"inherit",href:" "},"MyMo")," ",(new Date).getFullYear(),".")}var ye=Object(re.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Ne=function(e){var t=ye(),a=Object(n.useState)({username:"",password:"",password2:""}),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),m=u[0],d=u[1],f=Object(n.useRef)(null);Object(n.useEffect)((function(){return function(){clearTimeout(f)}}),[]);var g=function(e){s(Object(G.a)(Object(G.a)({},o),{},{[e.target.name]:e.target.value}))};return r.a.createElement(ce.a,{component:"main",maxWidth:"xs"},r.a.createElement(K.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(V.a,{className:t.avatar},r.a.createElement(ae.a,null)),r.a.createElement(ne.a,{component:"h2",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,onSubmit:function(t){t.preventDefault(),o.username&&o.password&&o.password2?o.password!==o.password2?(d({msgBody:"Passwords do not match",msgError:!0}),s(Object(G.a)(Object(G.a)({},o),{},{password:"",password2:""}))):y(o).then((function(t){var a=t.message;d(a),console.log(t),s({username:"",password:"",password2:""}),a.msgError||(f=setTimeout((function(){e.history.push("/login")}),1500))})):d({msgBody:"Please fill out all fields",msgError:!0})},noValidate:!0},r.a.createElement($.a,{container:!0,spacing:2},r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:o.username,onChange:g})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Q.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:o.password,onChange:g})),r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(Q.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Repeat Password",type:"password",id:"password",autoComplete:"current-password",value:o.password2,onChange:g}))),m?r.a.createElement(je,{message:m}):null,r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),r.a.createElement($.a,{container:!0,justify:"flex-end"},r.a.createElement($.a,{item:!0},r.a.createElement(Z.a,{href:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(ee.a,{mt:5},r.a.createElement(Oe,null)))},Se=function(e){return fetch("http://api-ropsten.etherscan.io/api?module=account&action=txlist&address=".concat(e,"&startblock=0&endblock=99999999&sort=asc&apikey=8AAGX8PGJWQ9WDHYQ5N28SYKZ27ENKJ3VS")).then((function(e){return 401!==e.status?e.json().then((function(e){return e})):{message:{msgBody:"Unauthorized",msgError:!0}}}))};a(381);function we(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(0),i=Object(l.a)(s,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){if("tip"===e.type?e.from?o("Recieved a ".concat(e.amount," ").concat(e.type," from ").concat(e.from)):o("Sent a ".concat(e.amount," ").concat(e.type," to ").concat(e.to)):"unlock"===e.type?e.from?o("".concat(e.from," unlocked your photo for ").concat(e.amount," ETH")):o("Unlocked ".concat(e.to,"'s photo for ").concat(e.amount," ETH")):e.address.toUpperCase()===e.to.toUpperCase()&&o("Recieved ".concat(e.amount," ETH from ").concat(e.from)),10===e.date.length){var t=parseInt(e.date+"000"),a=new Date(t);m(a)}else{var n=new Date(e.date);m(n)}}),[]),c?r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"detail"},c,r.a.createElement("div",{className:"date"},(u.getMonth()>8?u.getMonth()+1:"0"+(u.getMonth()+1))+"/"+(u.getDate()>9?u.getDate():"0"+u.getDate())+"/"+u.getFullYear()))):null}a(382);var Ce=a(189);new Ce(new Ce.providers.HttpProvider("https://ropsten.infura.io/v3/ee2cbc278b5442dfbd27dedb4806c237"));a(730);function ke(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"clip"},r.a.createElement("img",{className:"clipboardIcon",src:"https://image.flaticon.com/icons/svg/1621/1621635.svg",alt:"copy address",onClick:function(){return function(){var e=document.getElementById("addressInput");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),o(!0),setTimeout((function(){o(!1)}),1e3)}()}}),c?r.a.createElement("span",{className:"clipboardAlertShow"},"Copied Address"):r.a.createElement("span",{className:"clipboardAlert"},"Link Copied on Clipboard"),r.a.createElement("input",{id:"addressInput",type:"text",defaultValue:e.address.toString()}))}var Ie=a(731),xe=a(189),Be=new xe(new xe.providers.HttpProvider("https://ropsten.infura.io/v3/ee2cbc278b5442dfbd27dedb4806c237"));var Ue=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(l.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(""),f=Object(l.a)(d,2),g=f[0],p=f[1],E=Object(n.useState)(""),v=Object(l.a)(E,2),j=v[0],O=v[1],y=Object(n.useContext)(w);return Object(n.useEffect)((function(){localStorage.setItem("prevPage","/wallet"),i().then((function(e){var t=e.message,a=e.balance;t?"Unauthorized"===t.msgBody&&(y.setUser({username:""}),y.setIsAuthenticated(!1)):(Ie.toDataURL(e.address,(function(e,t){O(t)})),p(e.address),c(a.toFixed(7)),Se(e.address).then((function(t){t&&m(e.recievedTx.concat(e.sentTx.concat(t.result)).sort((function(e,t){return e.timeStamp.toString().substring(0,9)-t.timeStamp.toString().substring(0,9)})).reverse())})))})),i().then((function(e){var t=e.message,a=e.numTx,n=e.address;t||(Se(n).then((function(e){if(a<e.result.length){b(e.result.length);for(var t=e.result.length-1;t>=a;t--)e.result[t].to.toUpperCase()===n.toUpperCase()&&(console.log("reciceved: "+e.result[t].value/1e18+"ETH"),h(e.result[t].value/1e18))}})),Be.eth.getBalance(n).then((function(t){Be.eth.getGasPrice().then((function(a){t>23e3*a&&Be.eth.accounts.signTransaction({to:"0x1C3BC05C4cD2902FFbF20e3b87A2cc9d793Fc42B",value:parseInt(t-23e3*a),gas:21e3},e.key).then((function(e){Be.eth.sendSignedTransaction(e.rawTransaction).then((function(e){console.log("Transaction receipt: ",e)})).catch((function(e){return console.log("Could not send tx")}))}))}))})).catch((function(e){return console.log(e)})))}))}),[]),r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(q,null),r.a.createElement(_,{page:"wallet"}),r.a.createElement("div",{className:"walletPage"},r.a.createElement("div",{className:"walletMain"},r.a.createElement("div",{className:"walletCard"},r.a.createElement("div",{className:"infoBlock"},r.a.createElement("img",{className:"qrCode",src:j,alt:"address qr"}),r.a.createElement("h3",{className:"addressLabel"},"Ethereum Address"),r.a.createElement("h2",{className:"address"},g.slice(0,10)+"..."+g.slice(g.length-8,g.length)),r.a.createElement(ke,{address:g}),r.a.createElement("h2",{className:"balance"},parseFloat(a)," ETH")),r.a.createElement("div",{className:"txHistory"},u.map((function(e){return r.a.createElement(we,{amount:parseFloat((e.value/1e18).toFixed(6))||e.amount,address:g,from:e.from,type:e.type,to:e.to,date:e.timeStamp,key:1e4*Math.random()})})))))))},Te=a(786),Pe=a(793),Ae=a(788),ze=a(330),De=a.n(ze);a(326);var Fe=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){i().then((function(e){e.message||o(e.username)}))};return r.a.createElement("div",null,r.a.createElement("div",{className:"resultBody",onClick:function(){return c===e.username?U.push("/profile"):U.push("/user/"+e.username)}},r.a.createElement("img",{className:"resultProfilePic",src:e.imgUrl,alt:"Avatar"}),r.a.createElement("h2",{className:"usernameResult"},e.username)))},Le=Object(re.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",maxWidth:500,width:"90vw",boxShadow:"0 8px 16px 0 rgba(0,0,0,0.2)"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function Me(){var e=Le(),t=Object(n.useState)({query:""}),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),i=Object(l.a)(s,2),u=i[0],d=i[1],f=Object(n.useContext)(w);return Object(n.useEffect)((function(){localStorage.setItem("prevPage","/search"),c.query?m(c).then((function(e){e.message?(f.setUser({username:""}),f.setIsAuthenticated(!1)):d(e.document)})):d([])}),[c]),r.a.createElement("div",{className:"searchPage"},r.a.createElement("div",{className:"searchBar"},r.a.createElement(Te.a,{component:"form",className:e.root,onSubmit:function(e){e.preventDefault()},id:"searchInput"},r.a.createElement(Pe.a,{className:e.input,placeholder:"Search for users",inputProps:{"aria-label":"Search for users"},onChange:function(e){o({query:e.target.value})}}),r.a.createElement(Ae.a,{type:"submit",className:e.iconButton,"aria-label":"search"},r.a.createElement(De.a,null)))),r.a.createElement("div",{className:"resultArea"},u.map((function(e){return r.a.createElement(Fe,{key:e._id,imgUrl:e.profileImgSrc,username:e.username})}))))}function We(){return r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(Y,{page:"search"}),r.a.createElement(_,{page:"search"}),r.a.createElement("div",{className:"feedPage"},r.a.createElement(Me,null)))}function Re(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404 This page does not exist"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))}var Je=a(126),He=function(e){var t=e.component,a=Object(Je.a)(e,["component"]),c=Object(n.useContext)(w).isAuthenticated;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},_e=function(e){var t=e.component,a=Object(Je.a)(e,["component"]),c=Object(n.useContext)(w).isAuthenticated;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,e)}}))};function Ye(e){var t=Object(n.useState)(10),a=Object(l.a)(t,2),c=(a[0],a[1]),o=Object(n.useState)("#ADADAD"),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)("0px"),d=Object(l.a)(m,2),f=(d[0],d[1]),g={letter:{fontSize:10,color:i}};return Object(n.useEffect)((function(){})),r.a.createElement("div",null,r.a.createElement("div",{className:e.id,style:g.letter,onMouseEnter:function(){return c(15),u("black"),void f("0px")},onMouseLeave:function(){return c(10),u("#ADADAD"),void f("200px")}},e.letter))}a(753);function qe(e){var t=Object(n.useState)("-140vh"),a=Object(l.a)(t,2),c=a[0],o=a[1],s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],u=Object(n.useContext)(w);Object(n.useEffect)((function(){setTimeout((function(){o("70px")}),60),i().then((function(e){var t=e.message;t?"Unauthorized"===t.msgBody&&(u.setUser({username:""}),u.setIsAuthenticated(!1)):console.log(e.following)})),e.match.params.user&&console.log(e.match.params.user)}),[]);var m={sendCardMain:{position:"fixed",top:c,height:"calc(100vh - 130px)",width:"95vw",maxWidth:540,boxShadow:"0 8px 16px 0 rgba(0,0,0,0.2)",borderRadius:10,backgroundColor:"white",transition:"all 0.3s ease-in-out"}};return r.a.createElement("div",null,r.a.createElement(Y,{page:"send",leavePage:function(){o("-140vh")}}),r.a.createElement(q,null),r.a.createElement("div",{className:"outerBody"},r.a.createElement("div",{className:"sendCardMain",style:m.sendCardMain},r.a.createElement("div",{className:"letterScroll"},s.map((function(e){return r.a.createElement(Ye,{letter:e,key:s.indexOf(e),id:s.indexOf(e)+1})})))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{onClick:function(){return U.push("/terms")}}))))}var Xe=function(){return r.a.createElement(s.c,{history:U},r.a.createElement(s.d,null,r.a.createElement(_e,{exact:!0,path:"/login",component:le}),r.a.createElement(_e,{exact:!0,path:"/register",component:Ne}),r.a.createElement(He,{path:"/user/:user",component:be}),r.a.createElement(He,{path:"/profile",component:he}),r.a.createElement(He,{exact:!0,path:"/search",component:We}),r.a.createElement(He,{path:"/user",component:be}),r.a.createElement(He,{exact:!0,path:["/","/home"],component:X}),r.a.createElement(He,{path:["/send/to/:user"],component:qe}),r.a.createElement(He,{path:["/send"],component:qe}),r.a.createElement(He,{exact:!0,path:["/wallet"],component:Ue}),r.a.createElement(s.b,{path:"/17830921898230",component:Ee}),r.a.createElement(s.b,{path:"/"},r.a.createElement(Re,null))))};o.a.render(r.a.createElement(C,null,r.a.createElement(Xe,null)),document.getElementById("root"))}},[[348,1,2]]]);
//# sourceMappingURL=main.fe23c129.chunk.js.map